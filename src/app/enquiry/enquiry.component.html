<!-- Fixed Enquiry Button -->
<button
  (click)="openEnquiryForm()"
  class="fixed bottom-6 right-6 bg-sky-600 text-white px-6 py-3 rounded-full shadow-lg hover:bg-sky-900 transition flex items-center space-x-3 text-lg md:text-xl z-50"
>
  <i class="fa-solid fa-comment-dots text-2xl"></i>
  <span>Enquiry</span>
</button>

<!-- Enquiry Form Modal -->
<div
  *ngIf="isEnquiryOpen"
  class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"
>
  <div
    class="bg-white p-6 md:p-8 rounded-2xl shadow-xl w-full max-w-xl md:max-w-3xl h-[90vh] max-h-[90vh] overflow-y-auto transition-all duration-300"
  >
    <h3 class="text-3xl font-bold text-sky-600 text-center mb-4">
      <i class="fa-solid fa-envelope-open-text mr-2"></i> Customer Inquiry Form
    </h3>

    <!-- Form -->
    <form [formGroup]="enquiryForm" (ngSubmit)="submitEnquiry()" class="grid grid-cols-1 gap-4">
      <!-- First Name -->
      <div>
        <label class="block text-sm font-semibold text-gray-700">First Name *</label>
        <input
          type="text"
          formControlName="firstName"
          class="w-full mt-2 p-3 border rounded-md focus:ring-blue-500 focus:border-blue-500"
          [ngClass]="{'border-red-500': enquiryForm.get('firstName')?.invalid && enquiryForm.get('firstName')?.touched}"
          placeholder="Enter your first name"
          required
        />
        <span
          *ngIf="enquiryForm.get('firstName')?.invalid && enquiryForm.get('firstName')?.touched"
          class="text-red-500 text-sm"
        >
          First name is required.
        </span>
      </div>

      <!-- Last Name -->
      <div>
        <label class="block text-sm font-semibold text-gray-700">Last Name *</label>
        <input
          type="text"
          formControlName="lastName"
          class="w-full mt-2 p-3 border rounded-md focus:ring-blue-500 focus:border-blue-500"
          [ngClass]="{'border-red-500': enquiryForm.get('lastName')?.invalid && enquiryForm.get('lastName')?.touched}"
          placeholder="Enter your last name"
          required
        />
        <span
          *ngIf="enquiryForm.get('lastName')?.invalid && enquiryForm.get('lastName')?.touched"
          class="text-red-500 text-sm"
        >
          Last name is required.
        </span>
      </div>

      <!-- Designation -->
      <div>
        <label class="block text-sm font-semibold text-gray-700">Designation *</label>
        <input
          type="text"
          formControlName="designation"
          class="w-full mt-2 p-3 border rounded-md focus:ring-blue-500 focus:border-blue-500"
          [ngClass]="{'border-red-500': enquiryForm.get('designation')?.invalid && enquiryForm.get('designation')?.touched}"
          placeholder="Enter your designation"
          required
        />
        <span
          *ngIf="enquiryForm.get('designation')?.invalid && enquiryForm.get('designation')?.touched"
          class="text-red-500 text-sm"
        >
          Designation is required.
        </span>
      </div>

      <!-- Company -->
      <div>
        <label class="block text-sm font-semibold text-gray-700">Company Name *</label>
        <input
          type="text"
          formControlName="company"
          class="w-full mt-2 p-3 border rounded-md focus:ring-blue-500 focus:border-blue-500"
          [ngClass]="{'border-red-500': enquiryForm.get('company')?.invalid && enquiryForm.get('company')?.touched}"
          placeholder="Enter your company name"
          required
        />
        <span
          *ngIf="enquiryForm.get('company')?.invalid && enquiryForm.get('company')?.touched"
          class="text-red-500 text-sm"
        >
          Company name is required.
        </span>
      </div>

      <!-- Email -->
      <div>
        <label class="block text-sm font-semibold text-gray-700">Email *</label>
        <input
          type="email"
          formControlName="email"
          class="w-full mt-2 p-3 border rounded-md focus:ring-blue-500 focus:border-blue-500"
          [ngClass]="{'border-red-500': enquiryForm.get('email')?.invalid && enquiryForm.get('email')?.touched}"
          placeholder="Enter your email"
          required
        />
        <span
          *ngIf="enquiryForm.get('email')?.invalid && enquiryForm.get('email')?.touched"
          class="text-red-500 text-sm"
        >
          Valid email is required.
        </span>
      </div>

      <!-- Country -->
      <div>
        <label class="block text-sm font-semibold text-gray-700">Country *</label>
        <select
          formControlName="country"
          class="w-full mt-2 p-3 border rounded-md focus:ring-blue-500 focus:border-blue-500"
          [ngClass]="{'border-red-500': enquiryForm.get('country')?.invalid && enquiryForm.get('country')?.touched}"
          required
        >
          <option value="" disabled selected>Select country</option>
          <option *ngFor="let country of countries" [value]="country">{{ country }}</option>
        </select>
        <span
          *ngIf="enquiryForm.get('country')?.invalid && enquiryForm.get('country')?.touched"
          class="text-red-500 text-sm"
        >
          Country is required.
        </span>
      </div>

      <!-- Mobile -->
      <div>
        <label class="block text-sm font-semibold text-gray-700">Mobile *</label>
        <input
          type="tel"
          formControlName="mobile"
          class="w-full mt-2 p-3 border rounded-md focus:ring-blue-500 focus:border-blue-500"
          [ngClass]="{'border-red-500': enquiryForm.get('mobile')?.invalid && enquiryForm.get('mobile')?.touched}"
          placeholder="Enter your mobile number"
          required
        />
        <span
          *ngIf="enquiryForm.get('mobile')?.invalid && enquiryForm.get('mobile')?.touched"
          class="text-red-500 text-sm"
        >
          Mobile number is required.
        </span>
      </div>

      <!-- Landline -->
      <div>
        <label class="block text-sm font-semibold text-gray-700">Landline</label>
        <input
          type="tel"
          formControlName="landline"
          class="w-full mt-2 p-3 border rounded-md focus:ring-blue-500 focus:border-blue-500"
          placeholder="Enter your landline"
        />
      </div>

      <!-- Message -->
      <div>
        <label class="block text-sm font-semibold text-gray-700">Message *</label>
        <textarea
          formControlName="message"
          class="w-full mt-2 p-3 border rounded-md focus:ring-blue-500 focus:border-blue-500"
          [ngClass]="{'border-red-500': enquiryForm.get('message')?.invalid && enquiryForm.get('message')?.touched}"
          placeholder="Enter your message"
          rows="4"
          required
        ></textarea>
      </div>

      <!-- Buttons: Enquiry & Close -->
      <div class="flex flex-col md:flex-row justify-center items-center gap-4 mt-4">
        <button type="submit" class="bg-sky-600 text-white py-3 px-6 rounded-lg hover:bg-sky-800">Send Enquiry</button>
        <button type="button" (click)="closeEnquiryForm()" class="bg-gray-600 text-white py-3 px-6 rounded-lg hover:bg-gray-800">Close</button>
      </div>
    </form>
  </div>
</div>
