<section class="bg-white text-gray-800 py-20 px-6">
  <div class="container mx-auto text-center">
    <h2 class="text-4xl font-bold text-gray-800 mb-6">Our Products</h2>
    <p class="max-w-2xl mx-auto text-lg text-gray-600">
      Explore our wide range of industrial automation products under each category.
    </p>

    <!-- Category Buttons -->
    <div class="flex justify-center space-x-4 my-6">
      <button
        *ngFor="let category of categories"
        (click)="selectCategory(category.name)"
        class="px-6 py-2 text-lg font-semibold rounded-lg transition"
        [class.bg-sky-600]="selectedCategory === category.name"
        [class.text-white]="selectedCategory === category.name"
        [class.bg-gray-200]="selectedCategory !== category.name"
        [class.text-gray-800]="selectedCategory !== category.name"
      >
        {{ category.name }}
      </button>
    </div>

    <!-- Products Grid -->
    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 mt-6">

      <div
        *ngFor="let product of filteredProducts"
        class="bg-gray-100 p-3 rounded-lg shadow-md text-left text-sm"
      >
        <img
          [src]="product.image"
          [alt]="product.name"
          class="w-full h-40 object-contain rounded-md mb-3"
        />
        <h4 class="text-base font-semibold text-gray-800">{{ product.name }}</h4>
        <p class="text-gray-600 text-xs mt-1">{{ product.description }}</p>

        <button
          (click)="enquire(product.name)"
          class="mt-2 px-3 py-1 bg-sky-600 text-white rounded-md shadow-sm text-xs hover:bg-sky-700 transition"
        >
          Enquiry
        </button>

        <!-- Datasheet Button (conditionally shown) -->
        <!-- <button
          *ngIf="product.datasheet"
          (click)="openDatasheetModal(product.datasheet)"
          class="mt-2 ml-2 px-3 py-1 bg-sky-600 text-white rounded-md shadow-sm text-xs hover:bg-sky-700 transition"
        >
          Datasheet
        </button> -->
        <a
  *ngIf="product.datasheet"
  [href]="product.datasheet"
  target="_blank"
  class="mt-2 ml-2 px-3 py-1 bg-sky-600 text-white rounded-md shadow-sm text-xs hover:bg-sky-700 transition inline-block"
>
  Datasheet
</a>

      </div>
    </div>
  </div>
</section>

<!-- Modal for Datasheet -->
<div *ngIf="isDatasheetModalOpen" class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50">
  <div class="bg-white p-6 rounded-lg shadow-lg w-96">
    <h3 class="text-xl font-bold mb-4">Datasheet for {{ selectedProduct?.name }}</h3>
    <div class="mb-4">
      <p>Scan the QR code below or download the PDF directly:</p>
      <div class="flex justify-center mb-4">
        <img [src]="qrCodeUrl" alt="QR Code" class="w-40 h-40" />
      </div>
      <a [href]="selectedProduct?.datasheet" download class="text-blue-600 hover:underline">Download PDF</a>
    </div>
    <button (click)="closeDatasheetModal()" class="mt-4 px-4 py-2 bg-gray-600 text-white rounded-md">Close</button>
  </div>
</div>
